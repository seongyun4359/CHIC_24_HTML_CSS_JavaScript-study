CHAPTER 10 문서 객체 모델

문서 객체 - 태그를 자바스크립트에서 사용할 수 있는 객체로 만든 것

노드는 요소 노드와 텍스트 노드로 구분 

html -> head -> title -> Document Object Model"
	     -> script
     -> body -> h1-> "Header 
	     -> p -> "Lorem ipsum dolor amet"

정적 생성 -> 웹 페이지를 처음 실행할 때 HTML 태그로 적힌 문서 객체를 생성하는 것
동적 생성 -> 웹 페이지를 실행 중에 자바스크립트를 사용해 문서 객체를 생성하는 것
문서 객체 모델 -> 웹 브라우저가 HTML 파일을 분석하고 출력하는 방식

웹 브라우저는 HTML 코드 위쪽에서 아래쪽으로 실행

script 태그를 head 태그 내부에 넣으면 코드를 보기 쉬워 유지 보수가 용이함
반면 body 태그 아래 넣으면 HTML 페이지가 빠르게 나타나는 것처럼 보일 수 있음 
-> head 내부에 있을 경우 위쪽부터 script 태그를 읽기 때문에 각각의 외부 스크립트 파일 용량이 
크거나 사용자의 인터넷 속도가 느리다면 흰 화면 상태로 몇 초 후 글자가 나타남 
반면 body 태그 맨 아래쪽에 넣으면 태그 실행 전 화면이 먼저 구성

이미 존재하는 HTML 태그를 자바스크립트엣 문서 객체로 변환하는 것을 '문서 객체를 선택한다'라 표현함
문서 객체는 1개 or 여러개 선택할 수 있는데, 여러 개 선택하는 메서드를 사용하면 문서 객체가 배열형태로 반환됨

1개 선택 
document.getElementByld(아이디) / 아이디로 1개 선택 
-> 자바스크립트에서 스타일시트를 사용할 때 id 속성이 중복되면 문제가 생기는 부분
document.querySelector(선택자) / 선택자로 1개 선택
여러 개 선택
document.getElementsByName(이름) / name 속성으로 여러 개 선택
document.getElementsByClassName(클래스) / class 속성으로 여러 개 선택
document.querySelectorAll(선택자) / 선택자로 여러개 선택 

SPA EX)유튜브 
-> 웹 페이지를 한 번만 읽어 들이고, 사용자가 조작할 때 웹 페이지 내용을 자바스크립트를 사용해 바꾸는 형태의 웹 페이지를 의미

글자 조작
textContent / 문서 객체 내부 글자를 순수 텍스트 형식으로 가져오도록 변경
innerHTML / 문서 객체 내부 글자의 HTML 태그를 반영해 가져오도록 변경

스타일 조작
자바 스크립트로 CSS 속성 값을 추가.제거.변경 가능
backgroundlmage, backgroundColor, boxSizing, listStyle 사용

속성 조작
setAttribute(속성 이름, 속성 값) / 속성 지정
getAttribute(속성 이름) / 속성 추출
문자열 'data-'로 시작하는 것을 사용자 지정 속성이라 함 /반드시 속성 조작 메서드를 사용해 접근해야 함

이벤트 / 키보드를 누르거나 마우스를 클릭하는 것 처럼 어떤 현상이 프로그램에 영향을 미치는 것

window.onload = function () {};
코드에서 onload를 이벤트 속성이라 함
on을 제외한 load를 이벤트 이름 or 이벤트 타입이라 함
이벤트 속성에 넣는 함수를 이벤트 리스너 or 이벤트 핸들러라 함

문서 객체에 이벤트를 연결하는 방식을 인벤트 모델이라 함
DOM 레벨에 따라 구분할 수 있음
DOM 레벨 0 / 인라인 이벤트 모델, 고전 이벤트 모델
DOM 레벨 2 / 마이크로소프트 인터넷 익스플로러 이벤트 모델, 표준 이벤트 모델 
레벨 0의 이벤트 연결 방식은 쉬워서 널리 사용 BUT 이벤트를 중복해서 연결할 수 없음
레벨 2의 연결 방식은 이벤트 중복 연결 가능 BUT 웹 브라우저 종류에 따라 연결 방식이 다름 
이는 jQUuery 라이브러리 등을 사용해 극복 가능

인라인 이벤트 모델 -> HTML 태그 내부에 자바스크립트 코드를 넣어 이벤트를 연결하는 방식
고전 이벤트 모델 -> 과거에 표준으로 정의되어 많이 사용하던 이벤트 모델

이벤트 객체를 사용하면 이벤트와 관련한 정보를 알아낼 수 있음

특정 태그가 가진 기본적인 이벤트를 기본 이벤트라 함

CHAPTER 11 jQuery 라이브러리

jQuery 라이브러리 / 모든 웹 브라우저에서 동작하는 클라이언트용 자바스크립트 라이브러리 
-> 무료로 사용 가능한 오픈 소스 라이브러리
-> 사용 목적 / 쉬운 문서 객체 모델과 관련한 처리 구현, 쉽고 일관된 이벤트 연결 구현, 쉬운 시각적 효과 구현, 쉬운 Ajax 응용 프로그램 개발

사용 방법 
1. 파일을 다운로드해 외부 자바스크립트 파일로 추가하는 방법
2. CDN 호스트를 사용 / CDN이란 파일을 여러 서버에 분산시키고 사용자가 접속하는 지역과 가장 가ㅏㄲ운 곳의 서버에서 파일을 전송하는 기술을 말함 -> jQuery를 비롯해 구글, 마소 등에서도 제공

jQuery 라이브러리는 아래 형태로 사용
$(선택자).메서드(매개변수,매개변수)

자바스크립트는 식별자로 특수문자 $와 _사용 가능

jQuery()는 jQuery 라이브러리의 기본함수 
window.jQuery = window.$ = jQuery; 와 같이 사용

문서 객체 속성 조작 attr() 메서드 사용
스타일 조작 css() 메서드를 사용
글자 조작 html() / 문서 객체 내부의 HTML 태그 조작
              text() / 문서 객체 내부의 글자 조작
클래스 조작 addClass() / 클래스 추가
                 removeClass() / 클래스 제거
                 toggleClass() / 클래스 전환
-> 문서 객체의 class 속성 값을 띄어쓰기로 구분해 여러 개 입력 가능

이벤트 연결 메서드 / 여러 개 있음
ready() -> 문서 객체 준비 완료 이벤트가 연결
hover() -> mouseeenter 이벤트와 mouseleave 이벤트를 동시 연결 
jQuery 라이브러리로 일반 이벤트를 연결 할 때에는 on() 메서드, 이벤트를 제거할 때에는 off() 메서드 사용
이벤트 리스너의 매개변수를 이용해 이벤트 객체를 전달

자바 스크립트에선 return false를 사용해 기본 이벤트를 제거 
jQuery 라이브러리 또한 같은 방법으로 기본 이벤트를 제거 but 이벤트 전달도 함께 제거

시각효과 메서드
show(속도) / 문서 객체가 커지며 표시
hide(속도) / 문서 객체가 작아지며 사라짐
toggle(속도) / show() 메서드와 hide() 메서드를 번갈아 실행
slideDown(속도) / 문서 객체가 슬라이드 효과와 함께 표시
slideUp(속도) / 문서 객체가 슬라이드 효과와 함께 사라짐
slideToggle(속도) / slideDown()메서드와 slideUp()메서드를 번갈아 실행
fadeln(속도) / 문서 객체가 선명해지며 표시
fadeOut(속도) / 문서 객체가 흐려지며 사라짐
fadeToggle(속도) / fadeIn() 메서드와 fadeOut() 메서드를 번갈아 실행
간단한 효과 메서드에는 속도를 매개변수로 입력할 수 있음 / 속도를 입력하지 않으면 기본 값(500밀리초) 적용
slow(600밀리초), normal(500밀리초), fast(400밀리초)

문서객체에 애니메이션을 부여할 때에는 animate() 메서드 사용
$(selector).animate(속성 객체, 시간, 콜백함수); / 시간, 콜백함수 생략 가능 
delay() -> 애니메이션 특정 시간 정지
stop() -> 애니메이션 완전 정지
clearQueue 매개변수의 기본 값은 false로 현재 실행 중인 애니메이션만 멈추지만, true 입력시 예약된 모든 애니메이션 제거
goToEdn 매개변수는 애니메이션을 중지할 때 어떤 상태로 종료할지 지정

CHAPTER 12 자바스크립트와 jQuery 라이브러리 응용

12.2 프레임 애니메이션
타이머 함수(자바스크립트) -> 특정 시간마다 코드 실행 
setInterval(함수, 시간) / 특정 시간마다 함수 실행 / ex) 네이버 실검, 홈페이지 애니메이션
setTimeout(함수, 시간) / 특정한 시간 후에 함수 실행
clearInterval(식별번호) / setInterval() 함수로 설정한 타이머 제거
clearTimeout(식별번호) / setTimeout() 함수로 설정한 타이머 제거
  
12.3 문서 객체 생성과 추가
자바스크립트 + jQuery 라이브러리 -> 문서 객체를 쉽게 생성 가능

대상의 내부에 추가
$(객체).prependTo(대상) / 객체를 대상의 앞부분에 추가
$(객체).appendTo(대상) / 객체를 대상 뒷부분에 추가
대상 외부에 추가
$(객체).beforeTo(대상) / 객체를 대상의 앞쪽에 추가
$(객체).afterTo(대상) / 객체를 대상의 뒤쪽에 추가
-> jQuery / 뒤의 (대상)을 (객체)로

일반적으로 jQuery객체를 변수에 저장할 때는 변수 앞에 식별자$

12.4 무한스크롤
document.height, wimdow.scrolltop, window.height 변수 사용

12.5 플러그인 사용 
라이트박스 / 배경은 어둡게 하고 정보가 있는 사각형을 밝게 하는 플러그인

모든 jQuery 플러그인은 사용 방법이 다름

별도의 공간을 만들어 화면 중앙에 위치시키고 display속성을 적당히 조절해 문서 객체를 만들어 직접 라이트 박스를 만들 수 있음

12.6 갤러리
클릭시 화면 양 옆으로 이동하는 기능

갤러리 코드 만드는 순서 예시
-> ready 이벤트 생성 
-> body 태그 구성 
-> 갤러리 구분 색상 적용 
-> 갤러리 스타일 적용(data-width속성, data-height속성, div.item태그의 개수) 
-> 갤러리 이벤트 연결(현재 위치를 저장할 currentPage변수 생성, 버튼에 click이벤트, div.container 태그를 이동시킬 changePage() 함수)
-> 갤러리 클릭 이벤트 구현(currentPage 값을 통해 맨 왼쪽과 맨 오른쪽 페이지에서는 페이지가 이동하지 않도록 설정)
